<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Misaki的个人博客</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="Description">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <link href="https://img1.baidu.com/it/u=1306375176,2490405343&fm=253&fmt=auto?w=200&h=200" rel="icon">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css">
</head>

<body>
  <div id="app"></div>
  <script>

    window.$docsify = {
      // docsify config
      // config nav, default _navbar.md
      loadNavbar: true,
      // config sidebar, default _sidebar.md
      loadSidebar: true,
      subMaxLevel: 4,
      alias: {
        '/.*/_sidebar.md': '/_sidebar.md',
        '/.*/_navbar.md': '/_navbar.md'
      },
      // config cover page
      coverpage: true,
      name: '<span>Misaki <small style="font-size: 1rem;">~</small></span>',
      nameLink: './',
      auto2top: true,
      repo: 'https://github.com/misaki10032',
      // config 404 page
      notFoundPage: true,

      // search配置参数
      search: {
        maxAge: 86400000, // 过期时间，单位毫秒，默认一天
        paths: 'auto',
        placeholder: '搜索',
        noData: '找不到结果',
        depth: 3
      },

      // 字数统计
      count: {
        countable: true,
        fontsize: '0.9em',
        color: 'rgb(90,90,90)',
        language: 'chinese'
      },

      // 折叠目录
      plugins: [
        function (hook, vm) {
          hook.doneEach(function () {
            document.querySelectorAll(".sidebar-nav > ul > li").forEach(
              function (node, index, nodelist) {
                var span = document.createElement("span");
                span.innerHTML = node.firstChild.data;
                // span.style.cursor = "pointer";
                span.style.fontWeight = "bold";
                /*span.onclick = function(event) {
                  var ul = event.target.nextElementSibling;
                  if (ul.style.display === "none") {
                    ul.style.display = "block";
                  } else {
                    ul.style.display = "none";
                  }
                };*/
                node.firstChild.replaceWith(span);
                // node.lastChild.style.display = "none";
                node.lastChild.style.display = "block";
              });
            var active = document.querySelector(".sidebar-nav li.active");
            if (active) {
              active.parentElement.style.display = "block";
            }

            let res = html.match(/==(.+?)==/g);
            if (res) {
              for (var i = 0; i < res.length; i++) {
                html = html.replace(res[i], `<mark>` + res[i].replace(/==/g, "") + `</mark>`);
              }
            }
          });

          // hook.beforeEach(function (html) {
          //   //适配Markdown的====高亮语法
          //   let res = html.match(/==(.+?)==/g);
          //   if (res) {
          //     for (var i = 0; i < res.length; i++) {
          //       html = html.replace(res[i], `<mark>` + res[i].replace(/==/g, "") + `</mark>`);
          //     }
          //   }
          //   //将更新时间加到文档的最顶部
          //   return '> Last Modified {docsify-updated}'
          //     + '\n----\n'
          //     + html;
          // });
        }
      ]

    }

    // 使用离线功能
    if (typeof navigator.serviceWorker !== 'undefined') {
      navigator.serviceWorker.register('sw.js')
    }
  </script>
  <!-- Docsify v4 -->
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/docsify.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/zoom-image.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify-count/dist/countable.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs/components/prism-java.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs/components/prism-python.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs/components/prism-sql.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/emoji.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify-copy-code/dist/docsify-copy-code.min.js"></script>
</body>

</html>